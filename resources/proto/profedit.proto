syntax = "proto3";


package profedit;


message Payload {
  repeated Profile profiles = 1;
  repeated Reticle reticles = 2;

}


message CoefG1G7 {
  double bc = 1;
  double mv = 2;
}


message CoefCustom {
  double cd = 1;
  double ma = 2;
}


enum DType {
  VALUE = 0;
  INDEX = 1;
}

message SwPos {
  int32 c_idx = 1;
  double distance = 2;
  DType distance_from = 3;
  int32 reticle_idx = 4;
  int32 zoom = 5;
}


enum GType {
  G1 = 0;
  G7 = 1;
  CUSTOM = 2;
}


enum TwistDir {
  RIGHT = 0;
  LEFT = 1;
}


message Profile {
  string profile_name = 1;
  string cartridge_name = 2;
  string bullet_name = 3;
  string short_name_top = 4;
  string short_name_bot = 5;
  string user_note = 6;
  double zero_x = 7;
  double zero_y = 8;
  repeated double distances = 9;
  SwPos sw_pos_a = 10;
  SwPos sw_pos_b = 11;
  SwPos sw_pos_c = 12;
  SwPos sw_pos_d = 13;
  double sc_height = 14;
  double r_twist = 15;
  TwistDir twist_dir = 16;
  double c_muzzle_velocity = 17;
  double c_zero_temperature = 18;
  double c_t_coeff = 19;
  int32 c_zero_distance_idx = 20;
  double c_zero_air_temperature = 21;
  double c_zero_air_pressure = 22;
  double c_zero_air_humidity = 23;
  double c_zero_w_pitch = 24;
  double c_zero_p_temperature = 25;
  double b_diameter = 26;
  double b_weight = 27;
  double b_length = 28;
  repeated CoefG1G7 coef_g1 = 29;
  repeated CoefG1G7 coef_g7 = 30;
  repeated CoefCustom coef_custom = 31;
  GType bc_type = 32;
}


message Reticle {
  bytes preview = 1;
  bytes data = 2;
  bytes icon = 3;
}
